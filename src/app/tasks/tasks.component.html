<router-outlet></router-outlet>
<form [formGroup]="newUserWithPermission" (ngSubmit)="addUserToList()">
  <div >
    <select formControlName="user">
      <option value="">Choose User</option>
      <option *ngFor="let user of usersWithoutPermission" [ngValue]="user">
        {{ user.username }}
      </option>
    </select>
    <!-- error block -->
    <button type="submit" >
      Submit
    </button>
  </div>
</form>
<div *ngIf="error">
  {{error}}
</div>
<div *ngIf="tasks">
  <div *ngFor="let task of filteredTasks">
    <p>{{ task.task }}:
      <br>{{task.description}}
      <br>{{task.completed}}<br>
      {{task.timer}}
    </p>
    <label>
      Completed
    <input type="checkbox" [(ngModel)]="task.completed" (click)="onClick(task)"/>
  </label>
  <br>
  <form [formGroup]="sendToSalesforce" (ngSubmit)="onSendToSalesForce(task.id)">
    <label>
      Send Task to SalesForce<br>
    </label>
    <label>
      UserName:
      <input type="text" formControlName="username">
    </label>
    <label>
      Password:
      <input type="text" formControlName="password">
    </label>
    <label>
      Token:
      <input type="text" formControlName="token">
    </label>
    <button type="submit">Send to SalesForce</button>
  </form>
  </div>
</div>
<form [formGroup]="newTask" (ngSubmit)="onNewTask()">
  <br>
  <label>
    Create New Task<br>
  </label>
  <label>
    task:
    <input type="text" formControlName="task">
  </label>
  <label>
    description:
    <input type="text" formControlName="description">
  </label>
  <label>
    deadline:
    <input type="datetime-local" formControlName="deadline">
  </label>
  <button type="submit">Add new task</button>
</form>
